<html>
<head>
    <title></title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css">
    <!--<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>-->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Mukta:wght@300&display=swap" rel="stylesheet">
<style>
.bcg a:hover {
  background-color: red; 
  color: white;
  text-decoration: none;
}
.navbar .abc:hover{
  background-color: orange;
  color: white;
  text-decoration: none;
  border-radius: 12px;
}
</style>
</head>
<body>
<nav class="navbar navbar-expand-md navbar-light" style="border-bottom:1px solid gray;">
    <a class="navbar-brand px-5 py-0" href="#">
       <%= image_tag "ec_logo.png", width: 60 %>
    </a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse justify-content-end" id="collapsibleNavbar">
    <ul class="navbar-nav">
      <li>
        <a class="nav-link active px-3 abc" style="font-size: 20px;" <%= link_to 'HOME', root_path %> </a>
      </li>
      <% if !current_user.present?%>
        <li class="nav-item ">
          <a class="nav-link px-3 abc" style="font-size: 20px;" <%= link_to 'SIGN UP', new_user_registration_path %> </a>
        </li>
        <li class="nav-item ">
          <a class="nav-link px-3 abc" style="font-size: 20px;" <%= link_to 'SIGN IN', user_session_path %> </a>
        </li>
      <% end %>
      <% if user_signed_in? %>
        <% if current_user.role == "seller" %>
          <% if !current_user.company_detail.present? %>
          <li class="nav-item">
            <a class="nav-link px-3 abc" style="font-size: 20px;" <%= link_to "ADD COMPANY", new_company_detail_path  %> </a>
          </li>
          <% end %>
          <% if current_user.company_detail.present? %>
          <li class="nav-item">
            <a class="nav-link px-3 abc" style="font-size: 20px;" <%= link_to "COMPANY DETAIL", company_details_path  %> </a>
          </li>
          <% end %>
          <li class="nav-item dropdown px-2 mr-5", style="font-size:23px;">
          <a class="nav-link ", href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="fas fa-user-circle"></i>
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
          <% unless current_user.profile.present?  %>
          <span class="dropdown-item-text"><%= current_user.email %></span>
          <%else%>
            <span class="dropdown-item-text"><%= current_user.profile.name %></span>
          <%end%>
            <% unless current_user.profile.present?  %>
            <%= link_to 'Update Profile', new_profile_path, class: 'px-3' %></br>
            <%else%>
            <%= link_to 'Profile', profiles_path, class: 'px-3' %></br>
            <%end%>

            <%= link_to "Log Out", destroy_user_session_path, data: { "turbo-method": :delete },class: 'px-3'  %>
          </div>
          </li>
        <% end %>
        <% if current_user.role == "buyer" %>
        <li class="nav-item ">
        <a class="nav-link px-3 abc" style="font-size: 20px;" <%= link_to 'PRODUCTS', products_path %> </a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link px-3 abc" style="font-size: 20px;" href="#" id="navbarDropdown" role="button"
              data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              ALL CATEGORIES
          </a>
          <div class="dropdown-menu bcg" aria-labelledby="navbarDropdown">
              <a class="dropdown-item px-3" style="font-size: 20px;" <%= link_to "Clothings", clothing_path  %> </a>
              <a class="dropdown-item px-3" style="font-size: 20px;" <%= link_to "Electronics", electronic_path  %> </a>
              <a class="dropdown-item px-3" style="font-size: 20px;" <%= link_to "Books", book_path  %> </a>
              <a class="dropdown-item px-3" style="font-size: 20px;" <%= link_to "Footwears", footwear_path  %> </a>
              <a class="dropdown-item px-3" style="font-size: 20px;" <%= link_to "Watches", watch_path  %> </a>
              <a class="dropdown-item px-3" style="font-size: 20px;" <%= link_to "Bags", bag_path  %> </a>
          </div>
        </li>
        <li class="nav-item px-2 mt-2", style="font-size:23px;">
           <%= link_to '', cart_products_path, class:"fa-solid fa-cart-shopping" %>
        </li>

        <li class="nav-item dropdown px-2", style="font-size:23px;">
          <a class="nav-link ", href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="fas fa-user-circle"></i>
          </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <% unless current_user.profile.present?  %>
            <span class="dropdown-item-text"><%= current_user.email %></span>
            <%else%>
            <span class="dropdown-item-text"><%= current_user.profile.name %></span>
            <%end%>
            <% unless current_user.profile.present?  %>
            <%= link_to 'Update Profile', new_profile_path, class: 'px-3' %></br>
            <%else%>
            <%= link_to 'Profile', profiles_path, class: 'px-3' %></br>
            <%end%>
            <%= link_to "Log Out", destroy_user_session_path, data: { "turbo-method": :delete },class: 'px-3'  %>
        </div>
        </li>
        <% end %>
        <% else %>
        <% end %>

      <li class="nav-item">
      <form class="form-inline"action="<%= search_products_path %>" method="get">
      <div class="input-group px-2">
        <%= text_field_tag :product, params[:product], class: 'form-control', placeholder: 'Search Products' %>
        <div class="input-group-append">
          <button class="btn btn-outline-secondary" type="submit">
            <i class="fas fa-search"></i>
          </button>
        </div>
      </div>
    </form>
    </li>
    </ul>
  </div>

</nav>
<br>

</body>
</html>